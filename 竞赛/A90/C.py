from typing import List
from collections import Counter

class Solution:
    def destroyTargets(self, nums: List[int], space: int) -> int:
        d = Counter()
        for num in nums:
            d[num % space] += 1
        ans = 0
        tot = 0
        for num in nums:
            if d[num % space] > tot or (d[num % space] == tot and num < ans):
                tot = d[num % space]
                ans = num
        return ans


if __name__ == '__main__':
    # nums = list(range(1, 100000))
    # space = 2
    # nums = [1, 3, 5, 2, 4, 6]
    # space = 2
    # nums = [3, 7, 8, 1, 1, 5]
    # space = 2
    # nums = [6, 2, 5]
    # space = 100
    nums = [1, 5, 3, 2, 2]
    space = 10000
    # nums = [916295060, 579800536, 213931972, 924157829, 730387212, 211656716, 442375097, 252533555, 516331783, 770263691,
    #  355571302, 770650341, 712271488, 660251142, 284371784, 68417361, 283004497, 314182509, 716389456, 214108571,
    #  477619353, 706798519, 446439407, 802256102, 938303192, 204688887, 748897411, 328448150, 695386000, 939452651,
    #  841734893, 470178497, 390802190, 499273452, 205243736, 814194673, 348939941, 983186858, 899246901, 488418441,
    #  114648292, 671127871, 746965912, 75961918, 548104235, 313015690, 667295036, 761289562, 684142216, 136936773,
    #  717115132, 559448926, 710758125, 271214907, 737424409, 862830887, 866796431, 138686664, 150725295, 728283282,
    #  919993105, 663958082, 853015962, 116452119, 261613678, 609809644, 262090889, 577302189, 480585789, 731811985,
    #  257464102, 280159306, 722668522, 490962035, 957762353, 617024431, 514219090, 5556053, 890895272, 911005649,
    #  153973152, 146945106, 196632946, 525202150, 869840516, 449690564, 653780767, 70527214, 857449318, 364212100,
    #  794022432, 405946715, 487986650, 248027584, 957254587, 647000549, 646587321, 98143252, 193148550, 357618776]
    # space = 4
    solution = Solution()
    res = solution.destroyTargets(nums, space)
    print(res)